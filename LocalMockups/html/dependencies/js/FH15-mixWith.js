define(["jquery","jquery-ui","jquery.mmenu","owl-carousel","velocity","jquery-menu-aim"],function(a){function b(){$promo=a("#desktopPromo #promo"),$promoMore=a("#desktopPromo #promo .more"),$promo.stop(),$promoMore.stop(),$promoMore.slideToggle(400,function(){$promoMore.hasClass("open")?a("#desktopPromo div.promo .summary .fh-icon-triangle-down").slideUp(150,function(){a("#desktopPromo div.promo .summary .fh-icon-triangle-down").removeClass("fh-icon-triangle-down").addClass("fh-icon-triangle-up").slideDown(function(){a("#desktopPromo div.promo .exit i").fadeTo(250,1)})}):$promoMore.hasClass("open")||a("#desktopPromo div.promo .summary .fh-icon-triangle-up").slideUp(150,function(){a("#desktopPromo div.promo .summary .fh-icon-triangle-up").removeClass("fh-icon-triangle-up").addClass("fh-icon-triangle-down").slideDown(),a("#desktopPromo div.promo .exit i").css("visibility: hidden"),a("#desktopPromo div.promo .exit i").fadeTo(0,0)})}).toggleClass("open"),$promo.toggleClass("open")}function c(){$promoMobile=a("#mobilePromo #promo"),$promoMobileMore=a("#mobilePromo #promo .more"),$promoMobile.stop(),$promoMobileMore.stop(),$promoMobileMore.slideToggle(400,function(){$promoMobileMore.hasClass("open")?a("#mobilePromo div.promo .summary .fh-icon-triangle-down").slideUp(150,function(){a("#mobilePromo div.promo .summary .fh-icon-triangle-down").removeClass("fh-icon-triangle-down").addClass("fh-icon-triangle-up").slideDown(function(){a("#mobilePromo div.promo .exit i").fadeTo(250,1)})}):$promoMobileMore.hasClass("open")||a("#mobilePromo div.promo .summary .fh-icon-triangle-up").slideUp(150,function(){a("#mobilePromo div.promo .summary .fh-icon-triangle-up").removeClass("fh-icon-triangle-up").addClass("fh-icon-triangle-down").slideDown(),a("#mobilePromo div.promo .exit i").css("visibility: hidden"),a("#mobilePromo div.promo .exit i").fadeTo(0,0)})}).toggleClass("open"),$promoMobile.toggleClass("open")}function D(){m=$(".mobHeader .row").height(),n=$(".mobMen .drpDown"),k=$(window).height(),n.height(k-m)}function E(){m=$(".mobHeader .row").height(),n=$(".mobMen .drpDown"),mobSubDropdown=$(".mobSubMen"),k=$(window).height(),o=k-m,n.height(o),mobSubDropdown.height(o-50)}function F(){$(".mobMenBtn").hasClass("fa-bars")?($(".mobMenBtn").removeClass("fa-bars").addClass("fa-close"),$(".drpDown-cont.mobMen .drpDown-act").slideDown("medium"),$(".mobMen").slideDown(),$("html, body").hasClass("noScroll")||$("html, body").addClass("noScroll")):$(".mobMenBtn").hasClass("fa-close")&&($(".mobMenBtn").removeClass("fa-close").addClass("fa-bars"),$(".drpDown.condense").css("overflow-y","scroll"),$(".mobMen").fadeOut("fast"),$(".drpDown").removeClass("noScroll"),$(".mobMen .drpDown").find("li").removeClass("clicked"),setTimeout(function(){$(".mobMen .drpDown, a.topLink").removeClass("condense")},500),$(".mob-filt-ovrWrap").hasClass("opened")?$("html, body").addClass("noScroll"):$("html, body").removeClass("noScroll"))}function G(){$(".mobMenBtn").removeClass("fa-close").addClass("fa-bars"),$(".drpDown.condense").css("overflow-y","scroll"),$(".mobMen").fadeOut("fast"),$(".drpDown").removeClass("noScroll"),$(".mobMen .drpDown").find("li").removeClass("clicked"),setTimeout(function(){$(".mobMen .drpDown, a.topLink").removeClass("condense")},500),$(".mob-filt-ovrWrap").hasClass("opened")?$("html, body").addClass("noScroll"):$("html, body").removeClass("noScroll")}function H(){K(),$(".deskSearch .searchBarWrap").hasClass("open")?($(".deskSearch .searchBarWrap").removeClass("open").fadeOut(),$(".deskSearch .searchResultWrap").fadeOut()):($(this).toggleClass("clicked"),v.removeClass("clicked"),setTimeout(function(){$(".subMenWrap").css("display","none")},400),$(".deskSearch .searchBarWrap").toggleClass("open").slideToggle("fast"),setTimeout(function(){$(".deskSearch .searchResultWrap").fadeIn()},20))}function I(){$(".mobSearch .searchBarWrap").hasClass("open")?($(".mobSearch .searchBarWrap").removeClass("open").fadeOut(),$(".mobSearch .searchResultWrap").fadeOut()):($(this).toggleClass("clicked"),v.removeClass("clicked"),setTimeout(function(){$(".subMenWrap").css("display","none")},400),$(".mobSearch .searchBarWrap").toggleClass("open").slideToggle("fast"),setTimeout(function(){$(".mobSearch .searchResultWrap").fadeIn()},20))}function J(){$(".mobSearch .searchBarWrap").removeClass("open").fadeOut(),$(".mobSearch .searchResultWrap").fadeOut()}function K(){$(".gChildMen").find("ul").hide(),$(".drpDown li").removeClass("clicked"),$(".childContWrap").find(".childCont").find("ul").hide(),$(".childMenWrap").removeClass("open")}function L(){var a=$(".mobHeader").height(),b=96,c=a+b,d=$(window).height(),e=d-c,f=$(".mobSearch .searchResultWrap");f.css("height",e+"px")}function R(){z.parent("li").removeClass("isClicked"),z.parent("li").removeClass("offChild"),z.parent("li").removeClass("onChild")}function U(){var a=$(".childContWrap").height(),b=$(".gChildContWrap").height();console.log(a),console.log(b),a>b?($(".childContWrap").find("ul.open").css("height",a+"px"),$(".gChildContWrap").find("ul.open").css("height",a+"px")):a<b&&($(".childContWrap").find("ul.open").css("height",b+"px"),$(".gChildContWrap").find("ul.open").css("height",b+"px"))}!function(){for(var a=0,b=["webkit","moz"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b,c){var d=(new Date).getTime(),e=Math.max(0,16-(d-a)),f=window.setTimeout(function(){b(d+e)},e);return a=d+e,f}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}();var d=a(document),e=a(window);d.ready(function(){function f(b){var c=a(b);c.children(".Panel"),c.children("a").addClass("hover"),c.addClass("hover")}function g(b){var c=a(b);c.children(".Panel"),c.find("a.hover").removeClass("hover"),c.removeClass("hover")}a("html").hasClass("ie8");var h={resize:!1,scroll:!1};e.resize(function(){h.resize=!0}),e.scroll(function(){h.scroll=!0}),function b(){if(requestAnimationFrame(b),h.resize){if(a("#pageNav").hasClass("open"))if(e.width()>960)a("#pageNav").removeClass("open").css({height:"initial"}),a("body, html").css("overflow","initial");else{var c=a(window).innerHeight()+1,d=a("body").scrollTop();a("#pageNav").css({height:c,top:d})}h.resize=!1}h.scroll&&(h.scroll=!1)}(),a(".fatheadSearch form").submit(function(b){var c=a(this).find("#fhSearch").val();return!(c.length<=0)}),a("#backToTop").removeAttr("hidden"),a("#backToTop").click(function(){a("html, body").animate({scrollTop:0},"slow")}),$promoExit=a("#desktopPromo div.promo .summary, #desktopPromo div.promo .exit i.fh-icon-x"),$promoExit.on("click",function(a){b()}),$mobilePromoExit=a("#mobilePromo div.promo .summary, #mobilePromo div.promo .exit i.fh-icon-x"),$mobilePromoExit.on("click",function(a){c()});var i=a("#accountOriginal").html();a("#accountMigrate").html(i),a("#rightLinksOriginal").clone().removeAttr("id").appendTo("#rightLinksMigrate").addClass("accountContainer");var j=[a("#other-main-nav-links").clone(),a("#account-mobile-area").clone(),a("#help-section-mobile")],k='<strong class="fullWidth heading"><i class="fh-icon-cart"></i> Shop Fathead</strong><i class="fh-icon-x exitPanel" id="exitPanel"></i>',l=a("#categories").clone().append(j).prepend(k);a("#mobile-nav-container").append(l);var m=a("#mobile-nav-container"),n=m.find("[data-href]"),o=a(".cart").find("[data-href]"),p=a("#hamburger-menu").find("[data-href]");m.attr("id","mobile-nav").addClass("mobile-nav offCanvas"),a("#mobile-header").css("display","block"),n.each(function(){var b=a(this);b.attr("href"),b.attr("href",b.data("href"))}),o.each(function(){var b=a(this);b.attr("href"),b.attr("href",b.data("href"))}),p.each(function(){var b=a(this);b.attr("href"),b.attr("href",b.data("href"))}),m.mmenu({offCanvas:{zposition:"front"}});var q=a("#mobile-nav").data("mmenu");a("#mobile-nav #exitPanel").click(function(){q.close()});var r=a("#cartSummary").clone();r.attr("id","mobile-cart"),r.mmenu({offCanvas:{position:"right"}});var s=a("#mobile-cart").data("mmenu");a(".cartSummary #exitPanel").click(function(){s.close()}),a("a[href='#pageNav']").click(function(b){b.preventDefault();var c=a(window).innerHeight()+1,d=a("body").scrollTop();a("#pageNav").addClass("open").css({height:c,top:d}),a("body, html").css("overflow","hidden")}),a("#exitPageNav").click(function(){a("#pageNav").removeClass("open").css({height:"initial"}),a("body, html").css("overflow","initial")}),a("#frontPageCarousel").owlCarousel({autoHeight:!1,autoPlay:7e3,itemsScaleUp:!0,lazyEffect:"fade",lazyFollow:!0,lazyLoad:!0,mouseDrag:!1,navigation:!0,navigationText:["&lsaquo;","&rsaquo;"],pagination:!0,paginationNumbers:!1,paginationSpeed:800,responsive:!0,responsiveBaseWidth:window,responsiveRefreshRate:10,singleItem:!0,slideSpeed:800,stopOnHover:!0,touchDrag:!0,addClassActive:!0,afterInit:function(){a(".frontPageCarousel .slide").css("display","block")}}),a("#frontPageCarouselMobile").owlCarousel({autoHeight:!1,autoPlay:7e3,itemsScaleUp:!0,lazyEffect:"fade",lazyFollow:!0,lazyLoad:!0,mouseDrag:!1,navigation:!0,navigationText:["&lsaquo;","&rsaquo;"],pagination:!0,paginationNumbers:!1,paginationSpeed:800,responsive:!0,responsiveBaseWidth:window,responsiveRefreshRate:10,singleItem:!0,slideSpeed:800,stopOnHover:!0,touchDrag:!0,addClassActive:!0,afterInit:function(){a("#frontPageCarouselMobile .slide").css("display","block")}}),a("#b2bCarousel").owlCarousel({autoHeight:!0,autoPlay:!1,itemsScaleUp:!0,lazyEffect:"fade",lazyFollow:!0,lazyLoad:!0,mouseDrag:!1,navigation:!0,navigationText:["&lsaquo;","&rsaquo;"],pagination:!0,paginationNumbers:!1,paginationSpeed:800,responsive:!0,responsiveBaseWidth:window,responsiveRefreshRate:10,singleItem:!0,slideSpeed:800,touchDrag:!0,addClassActive:!0,afterInit:function(){a(".b2bCarousel .slide").css("display","block")}}),a("#b2bCarouselMobile").owlCarousel({autoHeight:!0,autoPlay:!1,itemsScaleUp:!0,lazyEffect:"fade",lazyFollow:!0,lazyLoad:!0,mouseDraggable:!1,navigation:!0,navigationText:["&lsaquo;","&rsaquo;"],pagination:!0,paginationNumbers:!1,paginationSpeed:800,responsive:!0,responsiveBaseWidth:window,responsiveRefreshRate:10,singleItem:!0,slideSpeed:800,touchDrag:!0,addClassActive:!0,afterInit:function(){a(".b2bCarouselMobile .slide").css("display","block")}}),a("#frontPageFeature").owlCarousel({autoHeight:!1,autoPlay:!1,itemsDesktop:[1599,4],itemsDesktopSmall:[1023,3],itemsMobile:[767,1],itemsTablet:[959,2],lazyEffect:"fade",lazyFollow:!0,lazyLoad:!0,navigation:!0,navigationText:["&lsaquo;","&rsaquo;"],pagination:!1,paginationSpeed:800,responsive:!0,responsiveBaseWidth:window,responsiveRefreshRate:10,rewindNav:!1,slideSpeed:250,touchDrag:!0,beforeInit:function(){a("#frontPageFeature .widget").removeClass("pure-u-1-1 pure-u-md-1-2 pure-u-961-1-4 pure-u-lg-1-4 pure-u-xl-1-5"),a("#frontPageFeature").removeClass("pure-g")},addClassActive:!0}),a("#studioFCarousel").owlCarousel({autoHeight:!1,autoPlay:7e3,itemsScaleUp:!0,lazyEffect:"fade",lazyFollow:!0,lazyLoad:!0,mouseDrag:!1,navigation:!0,navigationText:["&lsaquo;","&rsaquo;"],pagination:!1,paginationNumbers:!1,responsive:!0,responsiveBaseWidth:window,responsiveRefreshRate:10,singleItem:!0,slideSpeed:800,stopOnHover:!1,touchDrag:!1,addClassActive:!0,afterInit:function(){a("#studioFCarousel .slide").css("display","block")}}),a("#mainNav .dropdown > a").on("click",function(b){a(this).parent().hasClass("open")||(a(this).parent().addClass("open"),a(this).parent().children("div").stop().slideDown(150))}),a("a[href='#more']").click(function(a){a.preventDefault()});var t;a("#mainNav .dropdown > a").on("mouseenter",function(){var b=a(this);t=setTimeout(function(){b.parent().siblings().hasClass("open")&&b.parent().siblings().removeClass("open").children("div").stop().slideUp(150),a("#cartSummary").hasClass("open")&&(a("#cartSummary").removeClass("open"),a("#cartSummary").stop().slideUp(150)),b.parent().hasClass("open")||(b.parent().addClass("open"),b.parent().children("div").stop().slideDown(150))},100)}),a("#mainNav .dropdown").on("mouseleave",function(){if(clearTimeout(t),a(this).hasClass("open")){var b=a(this);u=setTimeout(function(){b.removeClass("open"),b.children("div").stop().slideUp(150)},500)}});var u;a("#mainNav .topLevel").on("mouseleave",function(){if(a("#mainNav .dropdown").hasClass("open")){var b=a("#mainNav .dropdown");u=setTimeout(function(){b.removeClass("open"),b.children("div").stop().slideUp(150)},500)}}),a("#mainNav .dropdown").on("mouseenter",function(){clearTimeout(u)});var v=function(){a("#mainNav .dropdown").hasClass("open")&&a("#mainNav .dropdown").removeClass("open").children("div").stop().slideUp(150),a("#cartSummary").hasClass("open")?(a("#cartSummary").removeClass("open"),a("#cartSummary").stop().slideUp(150)):(a("#cartSummary").addClass("open"),a("#cartSummary").stop().slideDown(150))};document.URL.toLowerCase().indexOf("/shoppingcart")<0&&a("#desktop-cart").on("click",function(a){a.preventDefault(),v()}),a("#desktop-cart .close").on("click",function(a){a.preventDefault(),v()}),e.on("click",function(b){var c=a(b.target);c.is("#mainNav .dropdown *, #cartSummary *, #desktop-cart, #desktop-cart *")||(a("#mainNav .dropdown").siblings().hasClass("open")&&a("#mainNav .dropdown").siblings().removeClass("open").children("div").stop().slideUp(150),a("#accountOriginal").hasClass("open")&&a("#accountOriginal").removeClass("open").children(".Panel").stop().slideUp(150),a("#cartSummary").hasClass("open")&&(a("#cartSummary").removeClass("open"),a("#cartSummary").stop().slideUp(150)))}),a("#accountOriginal a").on("click",function(a){a.preventDefault()}),a("#accountOriginal").on("click",function(){window.location.assign("http://www.fathead.com/order-status/")});var w=a("li.dropdown #categories > ul");w.menuAim({activate:f,deactivate:g,submenuDirection:"right"}),d.click(function(b){var c=a(b);c.children(".Panel"),c.find("a.hover").removeClass("hover"),c.removeClass("hover")}),d.on("keyup",function(b){27===b.keyCode&&(a("#mainNav .dropdown").siblings().hasClass("open")&&a("#mainNav .dropdown").siblings().removeClass("open").children("div").stop().slideUp(150),a("#accountOriginal").hasClass("open")&&a("#accountOriginal").removeClass("open").children(".Panel").stop().slideUp(150),a("#cartSummary").hasClass("open")&&(a("#cartSummary").removeClass("open"),a("#cartSummary").stop().slideUp(150)))}),a("#global-message #closeGlobalMessage").click(function(){a("#global-message").slideUp()})});var f,g,h,k,m,n,o,p,q,r,s,t,u=$(document),v=$("li.drpLef"),w=$("li.isSearch"),z=($(".drpDown-cont.deskMen"),u.scrollTop(),$(".mobSubMen").children("li").children("a"));$(".mobSubMen").children("li.isClicked").children("a"),$(".mobSubMen li ul li a"),$(window).width();jQuery.fn.horCenter=function(){var a=$(this).outerWidth(),b=a/2+"px";$(this).css("position","absolute"),$(this).css("left","50%"),$(this).css("margin-left","-"+b)},jQuery.fn.verCenter=function(){var a=$(this).outerHeight(),b=a/2+"px";$(this).css("position","absolute"),$(this).css("top","50%"),$(this).css("margin-top","-"+b)},jQuery.fn.bothCenter=function(){var a=$(this).outerHeight(),b=a/2+"px",c=$(this).outerWidth(),d=c/2+"px";$(this).css("position","absolute"),$(this).css("top","50%"),$(this).css("margin-top","-"+b),$(this).css("left","50%"),$(this).css("margin-left","-"+d)},$(document).ready(function(){$(".deskMen .drpDown li").click(function(){$(this).hasClass("clicked")?$(".childMenWrap").removeClass("open"):$(".childMenWrap").addClass("open")}),$(".deskMen .drpDown li").click(function(){if($(this).hasClass("clicked"))$(".gChildMen").find("ul").slideUp(),$(".drpDown li").removeClass("clicked"),$(".childContWrap").find(".childCont").find("ul").slideUp();else{$(".deskMen .drpDown li").removeClass("clicked"),$(this).addClass("clicked");var a=$(this).index()+1,b=$(".childContWrap").find(".childCont:nth-of-type("+a+")");$(".childContWrap").find(".childCont").find("ul").hide(),$(".childContWrap").find(".childCont").find("ul").removeClass("open"),b.find("ul").addClass("open"),b.find("ul").slideDown();var c=b.find("ul").find("li:first-child");c.trigger("click"),setTimeout(function(){U()},600)}}),$(".childCont ul li").click(function(){$(".childCont ul li").removeClass("clicked"),$(this).addClass("clicked");var a=$(this).index()+1,b=$(this).parent("ul").parent("div").index()+1,c=$(".gChildContWrap").find(".gChildCont:nth-of-type("+b+")"),d=c.find(".gChildMen:nth-of-type("+a+")");$(".gChildMen").find("ul").hide(),$(".gChildMen").find("ul").removeClass("open"),d.find("ul").addClass("open"),d.find("ul").slideDown(),setTimeout(function(){U()},600)}),w.click(function(){G(),K(),H()}),$("i.mobSearch").click(function(){$(".mobMenBtn").hasClass("fa-bars")?(L(),I()):(G(),setTimeout(function(){L(),I()},220))}),$(".searchBarWrap").click(function(){return!1}),$(".searchBarWrap .fa-close").click(function(){$(".searchBarWrap").removeClass("open").fadeOut(),$(".searchResultWrap").fadeOut()}),$(".mobMenBtn").click(function(){J(),F(),D()}),$(".drpDown li a.topLink").click(function(){$(this).parent("li").parent("ul").toggleClass("condense"),$("a.topLink").toggleClass("condense"),$(".mobMen .drpDown").find("li").removeClass("clicked"),$(this).parent("li").toggleClass("clicked"),$(this).toggleClass("clicked"),$(".drpDown").toggleClass("noScroll"),$("li").removeClass("onChild"),$("li").removeClass("offChild"),$("li").removeClass("isClicked"),$(this).removeClass("primeChild"),$(this).removeClass("notPrime"),E(),$(this).find()}),z.click(function(){return $(this).parent("li").hasClass("isClicked")?($(this).addClass("notPrime"),$(this).removeClass("primeChild"),R(),!1):($(this).parent("li").addClass("isClicked"),z.parent("li").addClass("offChild"),z.parent("li").removeClass("onChild"),$(this).addClass("primeChild"),$(this).removeClass("notPrime"),$(this).parent("li").addClass("onChild"),!1)}),$(".drpDown li").click(function(){var a=$(".subMen").height();setTimeout(function(){$(".subMenCont").css("height",a+"px")},500)}),$(".filt-mid ul li").click(function(){$(".filt-mid ul li").removeClass("clicked"),$(this).addClass("clicked")}),$(".sortMen-cont").children("a").click(function(){$(".sortMen-cont").find("ul").slideToggle("fast")}),$(".sortMen-cont ul li").click(function(){$(".sortMen-cont").find("ul").slideToggle("fast")}),$(".sortMen-cont").find("ul").find("li").click(function(){$(".sortMen-cont").find("ul").find("li").removeClass("chosen"),$(this).addClass("chosen"),h=$("li.chosen").text(),$(".sortMen-cont a span").text(h)}),$(".filt-mid ul li").click(function(){g=$(this).index()+2,$(".filt-drp").fadeOut("fast"),$(".filt-drp:nth-of-type("+g+")").slideToggle()}),$(".mob-filt-drpDowns .drpDownMen li").click(function(){return g=$(this).index()+2,$(".mob-filt-drpDowns .drpDownMen li").removeClass("clicked"),$(this).addClass("clicked"),$("ul.drpDownOptions").slideUp(),$("ul.drpDownOptions:nth-of-type("+g+")").slideDown(),!1}),$(".mob-btnOne").click(function(a){$(".mob-filt-ovrWrap").fadeIn(),$(".mob-filt-ovrWrap").addClass("opened"),k=$(window).height(),q=$(".mob-filt-head-wrap").height(),r=$(".mobHeader").height(),t=$(".drpDownMen").height(),s=q+r,f=k-(s+t),$(".drpDownOptions").css("max-height",function(){return f+"px"}),$("html").addClass("noScroll"),a.preventDefault()}),$(".closeBtn").click(function(a){$("html, body").removeClass("noScroll"),$(".mob-filt-ovrWrap").fadeOut(),$(".mob-team-ovrWrap").fadeOut(),$(".mob-filt-ovrWrap").removeClass("opened"),a.preventDefault()}),$("ul.products li").hover(function(){$(this).children("a").toggleClass("hovered")}),$("span.theTitle").each(function(){p=$(this).text().length,p>35?$(this).css("font-size",".8em"):$(this).css("font-size","1em")}),$('input[type="checkbox"]').customCheckbox()})});